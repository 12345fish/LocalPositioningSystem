/*====================================================================================================*/
/*====================================================================================================*/
#include "drivers\stm32f4_system.h"
#include "modules\serial.h"
#include "modules\imu.h"

#include "uwbTag.h"
/*====================================================================================================*/
/*====================================================================================================*/
extern IMU_DataTypeDef IMU;
/*====================================================================================================*/
/*====================================================================================================*/
void UWBT_Init( void )
{
  UWBT_GPIO_Config();
  UWBT_UART_Config(NULL);
  UWBT_IMU_Config();
}
/*====================================================================================================*/
/*====================================================================================================*/
void UWBT_Loop( void )
{
  while(1) {
    LED_G_Toggle();
    delay_ms(100);

    IMU_GetRawData(&IMU);
    printf("GX:%5.0f\tGY:%5.0f\tGZ:%5.0f\tAX:%5.0f\tAY:%5.0f\tAZ:%5.0f\tMX:%5.0f\tMY:%5.0f\tMZ:%5.0f\r\n",
      IMU.gyrRaw[0], IMU.gyrRaw[1], IMU.gyrRaw[2],
      IMU.accRaw[0], IMU.accRaw[1], IMU.accRaw[2],
      IMU.magRaw[0], IMU.magRaw[1], IMU.magRaw[2]
    );
  }
}
/*====================================================================================================*/
/*====================================================================================================*/
